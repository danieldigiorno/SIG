<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="SIG-Grupo8-2017">

<title>SIG 2016</title>

<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="css/lab.css" rel="stylesheet">
<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet"	type="text/css">
<link href="css/animate.css" rel="stylesheet" />
<link href="css/style.css" rel="stylesheet">
<link href="color/default.css" rel="stylesheet">

<link rel="stylesheet" href="https://js.arcgis.com/3.30/esri/css/esri.css">
<link rel='stylesheet'	href='https://fonts.googleapis.com/css?family=Special+Elite' type='text/css'>
<link rel="stylesheet"	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">


<script src=" http://code.jquery.com/jquery-latest.min.js"></script>
<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="https://js.arcgis.com/3.30/"></script>
<script src="js/aplicacion_aux.js"></script>
<script>

var map, routeTask, routeParams, routes = [], puntos = [];
	require([
	  "esri/urlUtils", 
	  "esri/map",
	  "esri/dijit/Search",
	  "esri/layers/ArcGISTiledMapServiceLayer",
	  "esri/symbols/SimpleMarkerSymbol",
	  "esri/symbols/SimpleLineSymbol",
	  "esri/layers/GraphicsLayer",
	  "esri/symbols/SimpleFillSymbol",
	  "esri/layers/FeatureLayer",
	  "esri/tasks/RouteTask",            
	  "esri/tasks/RouteParameters",
	  "esri/tasks/FeatureSet",
	  "esri/Color",
	  "esri/tasks/geometry",
	  "esri/geometry/geometryEngine",
	  "esri/geometry/Point",
	  "esri/graphic",
	  "esri/tasks/QueryTask",
	  "esri/tasks/query",
	  "esri/dijit/Print",
	  "dojo/_base/array",
	  "dojo/dom",
      "dojo/on",
	  "dojo/domReady!"
	
	], function (urlUtils,Map, Search, ArcGISTiledMapServiceLayer,SimpleMarkerSymbol,SimpleLineSymbol,GraphicsLayer,SimpleFillSymbol,FeatureLayer, RouteTask, RouteParameters,
		  FeatureSet ,Color,Geometry,GeometryEngine,Point,Graphic,QueryTask, Query,Print,array,dom,on) {
		
	  
			var routeGraphicLayer;
			var terminarSimulacion = false;
			var iter, salto = 0;
			var distanciaPuntos = 0;
			var stateActual = "";
			var stateAnterior = "";
			var color_actual = 1;
			var puntosServicioLayer;
			var rutaServicioLayer;
	  /*
	  $.ajax({
			'url': "https://www.arcgis.com/sharing/rest/oauth2/token/",
			'dataType': "json",
			'content-Type': 'x-www-form-urlencoded',
			'data': {
				'client_id': 'DHxuEWKcbfnwe1pj',
				'client_secret': 'b6b8c27cd2704c3aaa1a0f37abd32e75',
				'grant_type': 'client_credentials'
			},
			'type': 'POST',
			'success': function(response) {
				token = response.access_token;
				expiresIn = response.expires_in;
			},
			'error': function(errorThrown) {
				alert(errorThrown.error);
			}
	  });
	  */
		map = new Map("map", {
	  fadeOnZoom: true,
			center: [-95,39], // longitude, latitude
			 zoom:4, 
			minZoom:4,
			smartNavigation:false	
	   });
	   var tiled = new ArcGISTiledMapServiceLayer("http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer");
		map.addLayer(tiled);
	
	   var search = new Search({
		map: map
	   }, "search");
	   search.startup();
	   search.on ("search-results", searchHandler);
		 // Símbolo para los puntos
	   var markerSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE);
		markerSymbol.setColor(new Color("#0101DF"));
		markerSymbol.setSize(13);
		
		// Símbolo para el móvil
	  var movilSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE);
	  movilSymbol.setPath("M16,3.5c-4.142,0-7.5,3.358-7.5,7.5c0,4.143,7.5,18.121,7.5,18.121S23.5,15.143,23.5,11C23.5,6.858,20.143,3.5,16,3.5z M16,14.584c-1.979,0-3.584-1.604-3.584-3.584S14.021,7.416,16,7.416S19.584,9.021,19.584,11S17.979,14.584,16,14.584z");
	  movilSymbol.setOffset(0, 15);
	  movilSymbol.setColor(new Color("#FF4500"));
	  movilSymbol.setSize(20);
	
	   //Símbolo para la ruta
	  var routeSymbol = new SimpleLineSymbol().setColor(new Color([0,0,255,0.5])).setWidth(4);
	
	  // Capa donde se traen los puntos del servicio
	  var puntosServicioLayer = new GraphicsLayer({opacity:0.9});
	
	//Cargar puntos del servidor
	var pointsFL = FeatureLayer("http://sampleserver5.arcgisonline.com/arcgis/rest/services/LocalGovernment/Events/FeatureServer/0", {
	  mode: FeatureLayer.MODE_SNAPSHOT,
	  outFields: ["*"]
	});
	pointsFL.setSelectionSymbol(markerSymbol);
	
	
		//Cargar servicio de ruteo
	  routeTask = new RouteTask("https://utility.arcgis.com/usrsvcs/appservices/sAPOQxE99RKO83Fm/rest/services/World/Route/NAServer/Route_World/solve");
		routeParams = new RouteParameters();
		routeParams.stops = new FeatureSet();
		routeParams.outSpatialReference = {"wkid":102100};
	
	routeTask.on("solve-complete", dibujarRuta);    
	
	 // Graphic layer
	 var routeGraphicLayer = new GraphicsLayer({opacity:0.9});
	 var symbol = new SimpleFillSymbol();
	 
	 on(dom.byId("rutaBtn"), "click", calcularRuta);
	 function calcularRuta(){
	  routeTask.solve(routeParams);
	}
	///////////////////////////////////////////////////////////////////////////////////////
	 // Botón borrar rutas: Limpia las rutas dibujadas del mapa y de la lista
	 on(dom.byId("borrarRutaBtn"), "click", borrarRutas);
  function borrarRutas() {
    for (var i=routes.length-1; i>=0; i--) {
      map.graphics.remove(routes.splice(i, 1)[0]);
    }
    routes = [];
    routeGraphicLayer.clear();
    if (rutaServicioLayer !== undefined) {
      rutaServicioLayer.clear();
    }
    $('#borrarRutaBtn').prop('disabled', true);
  }

  // Botón borrar puntos: Limpia los puntos dibujados del mapa, como stop y de la lista
  on(dom.byId("borrarPtosBtn"), "click", borrarPuntos);
  function borrarPuntos() {
    for (var i=routeParams.stops.features.length-1; i>=0; i--) {
        map.graphics.remove(routeParams.stops.features.splice(i, 1)[0]);
    }
    puntos= [];
    $('#listaPtos').empty();
    $(dom.byId("guardarPtosBtn")).prop('disabled', true);
    $(dom.byId("borrarPtosBtn")).prop('disabled', true);
    $(dom.byId("listMsj")).prop('hidden', false);
    $(dom.byId("rutaBtn")).prop('disabled', true);

    puntosServicioLayer.clear();
  }

  // Dibuja la ruta calculada
  function dibujarRuta(evt) {
    borrarRutas();
    array.forEach(evt.result.routeResults, function(routeResult, i) {
      routes.push(
        map.graphics.add(
          routeResult.route.setSymbol(routeSymbol)
          )
        );
      routeGraphicLayer.add(routeResult.route.setSymbol(routeSymbol));
      map.centerAndZoom([-95,39],4);
    });

  // Agrego la capa de la ruta
  map.addLayer(routeGraphicLayer);

  // Deshabilito botones
  $(dom.byId("startBtn")).prop('disabled', false);
  $(dom.byId("borrarRutaBtn")).prop('disabled', false);
  $(dom.byId("guardarRutaBtn")).prop('disabled', false);
}

  // Guardar Puntos en el servicio
  var cantElemList = 0;
  function searchHandler(evt){
    cantElemList = puntos.length; //AGREGUEEE
    var pto = evt.results[0][0];
    var puntoNuevo = new Object();
    puntoNuevo.name = pto.name;
    puntoNuevo.geometry = pto.feature.geometry;
    puntoNuevo.symbol = markerSymbol;

    var existe = false;
    var i = 0;
    while ((i<puntos.length)&&(!existe)){
    	if (puntoNuevo.name == puntos[i].name){
    		existe = true;
    	}
    	i++;
    }

  	if (!existe){
    	puntos.push(puntoNuevo);

      // Oculta cartel de la lista
      if (puntos.length>1){
        $(dom.byId("rutaBtn")).prop('disabled', false);
      }else if (puntos.length<=1){
          $(dom.byId("rutaBtn")).prop('disabled', true);
      }
      if (puntos.length>0){
      	$(dom.byId("listMsj")).prop('hidden', true);
      }else if (puntos.length==0){
      	$(dom.byId("listMsj")).prop('hidden', false);
      }

      $(dom.byId("guardarPtosBtn")).prop('disabled', false);
      $(dom.byId("borrarPtosBtn")).prop('disabled', false);

      // Agregar un stop a la ruta a calcular
      routeParams.stops.features.push(
        // Dibuja punto en el mapa
        map.graphics.add(
          new Graphic(puntoNuevo.geometry, puntoNuevo.symbol)
        )
      )
      actualizarPuntos();
  	}
  }
  /***************************************************************************************************************************************/
   // Botón Guardar Puntos: Guarda los puntos ingresados por el usuario en el servidor
   on(dom.byId("guardarPtosBtn"), "click", guardarPuntos);
  function guardarPuntos(){
    puntos.forEach(function(puntoNuevo) {
        var attributes =  {
        "event_type": '13',
        "description": puntoNuevo.name
        }
        var puntoSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.STYLE_CIRCLE);
        puntoSymbol.setColor(new Color("#DF3A01"));
        puntoSymbol.setSize(15);
        var newGraphic = new Graphic(puntoNuevo.geometry, puntoSymbol, attributes);
        pointsFL.applyEdits([newGraphic], null, null);
      });
  }

  on(dom.byId("cargarPtosBtn"), "click", cargarPuntos);
  function cargarPuntos() {
    //Filtrar capa de puntos.
    var query = new Query();
    // query.where = "description = 'grupo04_puntos'";
    query.where = "event_type = '13'";
    pointsFL.selectFeatures(query);
    pointsFL.on("selection-complete", cargoPuntosServicio)

    // Se dibujan los puntos obtenidos en la query del servicio
    function cargoPuntosServicio(response){
      if (response.features.length == 0){
        alert("No hay puntos disponibles");
      }else{
        var features = response.features;
        for (var i = 0; i < features.length; i++) {

          // Creo el punto cargado
          var puntoNuevo = new Object();
          puntoNuevo.name = features[i].attributes.description;
          puntoNuevo.geometry = features[i].geometry;
          puntoNuevo.symbol = features[i].symbol;

          // Miramos si existia
          var existe = false;
          var j = 0;
          while ((j<puntos.length)&&(!existe)){
            if (puntoNuevo.name == puntos[j].name){
              existe = true;
            }
            j++;
          }

          // Sino existe lo guardo y lo muestro en el mapa
          if (!existe){
            puntos.push(puntoNuevo);

            // Agregar un stop a la ruta a calcular
            routeParams.stops.features.push(
              //dibuja punto en el mapa
              map.graphics.add(
                new Graphic(
                  puntoNuevo.geometry,
                  puntoNuevo.symbol
                )
              )
            )
            // Agrego al mapa
            puntosServicioLayer.add(new Graphic(puntoNuevo.geometry, puntoNuevo.symbol));
          }
        }

        map.addLayer(puntosServicioLayer);

        actualizarPuntos();

        // Oculta cartel de la lista
        if (puntos.length>1){
          $(dom.byId("rutaBtn")).prop('disabled', false);
        }else if (puntos.length<=1){
            $(dom.byId("rutaBtn")).prop('disabled', true);
        }
        if (puntos.length>0){
          $(dom.byId("listMsj")).prop('hidden', true);
        }else if (puntos.length==0){
          $(dom.byId("listMsj")).prop('hidden', false);
          $(dom.byId("rutaBtn")).prop('disabled', true);
        }

        $(dom.byId("guardarPtosBtn")).prop('disabled', false);
        $(dom.byId("borrarPtosBtn")).prop('disabled', false);
      }
    }
  }
  /**************************************************************************************************************************************************************************/
  var geometryService = new esri.tasks.GeometryService("http://tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer");
  // Capa donde se dibuja el móvil
  var movilLayer = new GraphicsLayer();

  on(dom.byId("startBtn"), "click", startSimulacion);
  function startSimulacion(){
      var cantPtosRta = 10;
      $("#startBtn").prop('disabled', true);
      $('#stopBtn').prop('disabled', false);
      $('#ptosList').prop('hidden',true);
      $('#infoList').prop('hidden',false);

      $('.panel div.clickable').click();

      iter = 0;
      // Comenzar timer.
      setTimeout(moverMovil, 100);
      terminarSimulacion = false;
  }

  var radio_buffer;

  var nombre_estado;
  // Funcion para mover el movil
  var colorBuffer = new dojo.Color([0, 0, 255, 0.15]); 
  function moverMovil(){
    // Para pedir condados y poblacion
    var queryTaskCounties = new QueryTask("http://services.arcgisonline.com/ArcGIS/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/3");
    var queryTaskStates = new QueryTask("http://services.arcgisonline.com/ArcGIS/rest/services/Demographics/USA_1990-2000_Population_Change/MapServer/4");

    if (!terminarSimulacion){
        // Si llegué al final o me pase de la cantidad de puntos entonces llegue al final
        if (iter >= routes[0].geometry.paths[0].length - 1){
          iter = routes[0].geometry.paths[0].length - 1;
          terminarSimulacion = true;
        }

        // Punto siguiente del móvil.
        xsig = routes[0].geometry.paths[0][iter][0];
        ysig = routes[0].geometry.paths[0][iter][1];
        var ptoSig = new Point(xsig,ysig,map.spatialReference)

	    	if($("#myonoffswitch").is(':checked')) {
          if ($('#p')[0].checked)
            map.centerAndZoom(ptoSig, 10);
          else if ($('#m')[0].checked)
          	map.centerAndZoom(ptoSig, 9);
          else if ($('#g')[0].checked)
          	map.centerAndZoom(ptoSig, 8);
	    	}
        movilLayer.clear();
        // Se dibuja el movil en el mapa.
        movilLayer.add(new Graphic(ptoSig, movilSymbol));

        // El salto es proporcional a la cantidad de puntos que tenga la ruta
        salto = parseInt(routes[0].geometry.paths[0].length/60); //Saltos
        iter = iter + salto;

        // Dibujar buffer en el móvil
        var params = new esri.tasks.BufferParameters();
        params.geometries = [ptoSig];

        // Tamaño del buffer
        if ($('#p')[0].checked)
        	radio_buffer = 10;
        else if ($('#m')[0].checked)
        	radio_buffer = 25;
        else if ($('#g')[0].checked)
        	radio_buffer = 50;

        params.distances = [radio_buffer];
        params.unit = 9036;
        params.outSpatialReference = {"wkid":102100};

        geometryService.buffer(params, mostrarBuffer);


        function mostrarBuffer(geometries) {
          var bufferMovil = geometries[0];

          // Query States movil
          var queryStates = new Query();
          queryStates.returnGeometry = true;
          queryStates.outFields = ["ST_ABBREV","NAME"];
          queryStates.geometry = ptoSig;
          queryStates.spatialRelationship = Query.SPATIAL_REL_INTERSECTS;

          queryTaskStates.execute(queryStates);
          queryTaskStates.on("error", function(err){
            console.log("No se pudo obtener el state : " + err);
          });

          queryTaskStates.on("complete", function(evt) {
            // Estado en el que se encunetra el punto
            stateAnterior = stateActual;
            stateActual = evt.featureSet.features[0].attributes.ST_ABBREV;
            // Verificar cambio de estado
            if ((stateAnterior != stateActual) && stateAnterior != ""){
              // Cambiar color buffer
              if(color_actual == 1){
                color_actual = 2;
                colorBuffer = new dojo.Color([0, 255, 0, 0.15])
              }else{
                color_actual = 1;
                colorBuffer = new dojo.Color([0, 0, 255, 0.15])
              }
              // Reproducir sonido al camiar de estado
            }

            var symbol = new esri.symbol.SimpleFillSymbol(
              SimpleFillSymbol.STYLE_SOLID,
              new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,colorBuffer, 2), colorBuffer);

            dojo.forEach(geometries, function(geometry) {
              var graphic = new esri.Graphic(geometry,symbol);
              movilLayer.add(graphic);
              movilLayer.add(new Graphic(ptoSig, movilSymbol));
            });

            nombre_estado = evt.featureSet.features[0].attributes.NAME;
          });

          // Query Counties overlap buffer
          var queryCounties = new Query();
          queryCounties.returnGeometry = true;
          queryCounties.outFields = ["NAME","TOTPOP_CY","LANDAREA", "ST_ABBREV"];
          queryCounties.geometry = bufferMovil;
          queryCounties.spatialRelationship = Query.SPATIAL_REL_INTERSECTS;
          queryCounties.outSpatialReference = {"wkid":102100};

          var interseccion = queryTaskCounties.execute(queryCounties);

          queryTaskCounties.on("error", function(err){
            alert(err)
          });

          queryTaskCounties.on("complete", function(evt) {
            var total_population = 0;
            var pop_inter_countie = 0;
            var counties = "";
            var fset = evt.featureSet;
            var symbol = new SimpleFillSymbol(SimpleFillSymbol.STYLE_NULL,
                            new SimpleLineSymbol(SimpleFillSymbol.STYLE_SOLID,
                              new Color([10, 180, 10]), 3));

            var resultFeatures = fset.features;
            var popTotal = 0;
            for (var i = 0, il = resultFeatures.length; i < il; i++) {
          	  var graphic = resultFeatures[i];
              var name = graphic.attributes.NAME;

              // Convertir millas^2 a km^2
              var area_countie = Math.ceil(graphic.attributes.LANDAREA * 2,58998811);
     				  pop_countie = graphic.attributes.TOTPOP_CY;

     				  var inter = GeometryEngine.intersect(bufferMovil,graphic.geometry);
     				  var area_interseccion = Math.ceil(GeometryEngine.geodesicArea(inter,109414));

              // Calculo de poblacion en la interseccion
     				  total_population+= Math.ceil((area_interseccion*pop_countie)/area_countie);
              pop_inter_countie = Math.ceil((area_interseccion*pop_countie)/area_countie);
              var num = i+1;
              counties+= name + ": " + pop_inter_countie + " / " + pop_countie + "<br/>";

              graphic.setSymbol(symbol);
              movilLayer.add(graphic);
              movilLayer.add(new Graphic(ptoSig, movilSymbol));
            }

            var tipoRadio;
            if ($('#p')[0].checked)
            	tipoRadio = "Pequeño";
            else if ($('#m')[0].checked)
            	tipoRadio = "Mediano" ;
            else if ($('#g')[0].checked)
            	tipoRadio = "Grande" ;

            $('#infoSimu').empty();
            $("<b> Estado: </b>"+nombre_estado+ "<br/>"
              + "<b>Condado : Pob en buffer / Pob Total: </b><br/>"
              + counties
              + "<b>Total población en buffer: </b>" + total_population +" hábitantes <br/>").appendTo( "#infoSimu" );
          });

        }

        // Se dibuja la capa con el móvil y el buffer
        map.addLayer(movilLayer);

        var velocidad;

        if ($('#vbaja')[0].checked){
          velocidad = 6000;
          movilSymbol.setColor(new Color("#04B4AE"));
        }else if ($('#vmedia')[0].checked){
          velocidad = 5000;
          movilSymbol.setColor(new Color("#8000FF"));
        }else if ($('#valta')[0].checked){
          velocidad = 4000;
          movilSymbol.setColor(new Color("#FF4500"));
        }
        // Velocidad del móvil
        setTimeout(moverMovil, velocidad);

    }else{
        alert("Simulación finalizada")
    }

  }

  on(dom.byId("stopBtn"), "click", stopSimulacion);

  function stopSimulacion(){
    terminarSimulacion = true;
    $('#stopBtn').prop('disabled', true);
    $('#startBtn').prop('disabled', false);
    $('#borrarRutaBtn').prop('disabled', false);
    $('#ptosList').prop('hidden',false);
    $('#infoList').prop('hidden',true);
  }

  // FeatureLayer para cargar rutas del servidor
  var trailsFL = FeatureLayer("http://sampleserver5.arcgisonline.com/arcgis/rest/services/LocalGovernment/Recreation/FeatureServer/1", {
    mode: FeatureLayer.MODE_SNAPSHOT,
    outFields: ["*"]});

  // Guardar ruta
  on(dom.byId("guardarRutaBtn"), "click", guardarRuta);
  function guardarRuta(){
    var nombre_ruta = "grupo04_rutas_"+$("#selectedRoute	 option:selected")[0].value;
    // Guardar la ruta seleccionada.
    var attributes =  {
      "trailtype":4,
      "notes": nombre_ruta
    }
    var newGraphic = new Graphic(routes[0].geometry,routeSymbol,attributes);
    // Aplico cambios en el servicio
    trailsFL.applyEdits([newGraphic], null, null);

  }

  // Cargar ruta seleccionada
  on(dom.byId("cargarRutaBtn"), "click", cargarRuta);
  function cargarRuta(){
    var rutaSeleccionada = $("#selectedRoute option:selected")[0].value;

    //Filtrar rutas del servidor
    var query = new Query();
    var note = "grupo04_rutas_"+rutaSeleccionada
    query.where = "notes = '"+ note +"'";
    query.outSpatialReference = {"wkid":102100};
    trailsFL.selectFeatures(query);

    trailsFL.on("selection-complete", dibujarRutaCargada)

    // Capa donde se ponen los puntos filtrados del servicio
    rutaServicioLayer = new GraphicsLayer({opacity:0.9});

    // Se dibuja la ruta obtenida en la query del servicio
    function dibujarRutaCargada(response){
      if (response.features.length == 0){
        alert("La ruta seleccionada no esta disponible");
      }else{
        // Si había ruta cargada, se borra.
        borrarRutas();
        borrarPuntos();
        routeGraphicLayer.clear();
        movilLayer.clear();

        if ((response!=null) && (response.features.length>0)){
        	 $(dom.byId("startBtn")).prop('disabled', false);
           $(dom.byId("borrarRutaBtn")).prop('disabled', false);
        }

        // Se carga la nueva ruta.
        array.forEach(response.features, function(featureResult, i) {
          routes.push(
            map.graphics.add(
              featureResult.setSymbol(routeSymbol)
              )
            );
          rutaServicioLayer.add(featureResult.setSymbol(routeSymbol));
        });
        map.addLayer(rutaServicioLayer);

      }
    }
  }
  // Printerrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr
  var printer = new Print({
    map: map,
    url: "https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task",
    templates: [{
      label: "Layout",
      format: "PDF",
      layout: "A4 Portrait",
      layoutOptions: {
        titleText: "Laboratorio 2",
        authorText: "Grupo 4",
        copyrightText: "SIG",
      },
      exportOptions: {
        width: 500,
        height: 400,
        dpi: 96
      }
    }]
  }, dom.byId("printButton"));
  printer.startup();

	});
	
 </script>
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-custom">
	<div id="preloader">
		<div id="load"></div>
	</div>

	<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header page-scroll">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-main-collapse">
					<i class="fa fa-bars"></i>
				</button>
				<a class="navbar-brand" href="index.html">
					<h1>SIG 2016</h1>
				</a>
			</div>
		</div>
		<!-- /.container -->
	</nav>

	<!-- Section: intro -->
	<section id="intro" class="intro">
		<div class="slogan">
			<h2> LABORATORIO 2 </h2>
			<h3> GRUPO 4 </h3>
			<h4> Carina Soca - Rodrigo Eizmendi </h4>
		</div>
		<div class="page-scroll">
	</section>
	<!-- /Section: intro -->

	<section id="about" class="home-section text-center">
		<div class="heading-about">
			<div class="container">
				<div class="row">
					<div class="col-lg-8 col-lg-offset-2">
						<div class="wow bounceInDown" data-wow-delay="0.4s">
							<div class="section-heading">
								<h2 style="color:#fff;">GUÍA RÁPIDA</h2>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-lg-2 col-lg-offset-5">
					<hr class="marginbot-50">
				</div>
			</div>
			<div class="row instruc">
					<div class="col-md-2">1. Agregue algunos puntos.</div>
					<div class="col-md-2">2. Revise el orden.</div>
					<div class="col-md-2">3. Calcule la ruta.</div>
					<div class="col-md-2">4. Comience la simulación.</div>
					<div class="col-md-2">5. Si lo desea modifique los parámetros.</div>
					<div class="col-md-2">6. Detenga la simulación</div>
			</div>
		</div>
	</section>
	<!-- /Section: about -->
	<!-- Section: demo -->
	<section id="contact" class="home-section">
		<div class="row">

			<div style="margin-left: 2%;">
				<div class="row">
					<div class="col-md-12 col-map">
						<!-- Lista de Puntos -->
						<div id="ptosList" class="col-md-4">
							<div class="panel panel-success listaPuntos">

								<div class="panel-heading">
									<h3 class="panel-title" style="font-size: 100%;">Lista de puntos</h3>
									<span class="pull-right clickable">
										<i class="glyphicon glyphicon-minus"></i>
									</span>
								</div>

								<div class="panel-body">
									<label id="listMsj">No hay puntos.</label>
									<div class="row" id="listaPtos">
										<div id="list-items"></div>
									</div>
									<div class="row" style = "margin:2%; text-align:center">
										<button id="guardarPtosBtn" class="btn btn-success" data-toggle="tooltip" title="Guardar puntos">
											<!-- Guardar -->
											<i class="glyphicon glyphicon-upload"></i>
										</button>
										<button id="borrarPtosBtn" class="btn btn-success" data-toggle="tooltip" title="Borrar puntos">
											<!-- Borrar -->
											<i class="glyphicon glyphicon-trash"></i>
										</button>
										<button id="cargarPtosBtn" class="btn btn-success" data-toggle="tooltip" title="Cargar puntos">
											<!-- Cargar -->
											<i class="glyphicon glyphicon-download"></i>
										</button>
									</div>
									<div class="row" style = "margin:2%; text-align:center" >
										<button id="rutaBtn" class="btn btn-primary">
											Calcular Ruta
										</button>
										<button id="borrarRutaBtn" class="btn btn-primary" >
											Borrar Ruta
										</button>
									</div>
								</div>

							</div>
						</div>

						<div id="infoList" class="col-md-4">
							<div class="panel panel-success listaPuntos" style="background-color: rgba(82,84,82,0.75); color: #d0e9c6;font-weight: 300;">

								<div class="panel-heading">
									<h3 class="panel-title" style="font-size: 100%;">Info de puntos</h3>
									<span class="pull-right clickable">
										<i class="glyphicon glyphicon-minus"></i>
									</span>
								</div>

								<div class="panel-body" style="margin:2%">
									<div class="row" id="infoSimu">
										<div id="list-items"></div>
									</div>
								</div>

							</div>
						</div>

						<div id="search"></div>
						<div id="map"></div>
						<div class="row" style="margin-bottom:1%; margin-top: 1%;display: flex;">
							<div class="col-md-3" style="padding:2px; text-align:center; width:290px">
								<!-- Seleccionar radio para el buffer -->
								<div style="color: white; margin-left: 3%;">
									<span> Radio para el buffer: </span>
									<form style="color: white; margin-left: 2%;" id="radioSelect">
									  <input type="radio" name="rd-buffer" id="p" value:"p" checked> Pequeño
									  <input type="radio" name="rd-buffer" id="m" value:"m"> Mediano
									  <input type="radio" name="rd-buffer" id="g" value:"g"> Grande
									</form>
								</div>
							</div>
							<div class="col-md-2" style="padding:2px; text-align:center">
								<!-- Seleccionar velocidad del movil -->
								<div style="color: white; margin-left: 3%;">
									<span> Velocidad para el móvil: </span>
									<form style="color: white; margin-left: 2%;">
										<input type="radio" name="rd-velocidad" id="vbaja" value="vbaja" checked> Baja
										<input type="radio" name="rd-velocidad" id="vmedia" value="vmedia"> Media
										<input type="radio" name="rd-velocidad" id="valta" value="valta"> Alta
									</form>
								</div>
							</div>

							<!-- Controles -->
							<div class="col-md-2" style="text-align:center;padding:2px;width: 150px;">
								<button id="startBtn" class="btn btn-success">
									<i class="glyphicon glyphicon-play" style="color:#fff"></i>
								</button>
								<button id="stopBtn" class="btn btn-primary">
									<i class="glyphicon glyphicon-stop"></i>
								</button>
							</div>

							<!-- Control de zoom -->
							<div class="col-md-1" style="color:white">
								<div class="onoffswitch" style="margin-left:1%;">
									<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
									<label class="onoffswitch-label" for="myonoffswitch" >
											<span class="onoffswitch-inner"></span>
											<span class="onoffswitch-switch" style="height: 22px;"></span>
									</label>
								</div>
							</div>

							<!-- Cargar Rutas -->
							<div class="col-md-5" style="color:white">
								<div>
									<select id="selectedRoute" class="form-control"
										style="width: 40%; float: left; margin-right: 2%;">
										<option value="Ruta 1">Ruta 1</option>
										<option value="Ruta 2">Ruta 2</option>
										<option value="Ruta 3">Ruta 3</option>
										<option value="Ruta 4">Ruta 4</option>
										<option value="Ruta 5">Ruta 5</option>
									</select>
									<button id="cargarRutaBtn" class="btn btn-success" data-toggle="tooltip" title="Cargar ruta">
										<i class="glyphicon glyphicon-road"></i>
									</button>
									<button id="guardarRutaBtn" class="btn btn-success" data-toggle="tooltip" title="Guardar ruta">
										<i class="glyphicon glyphicon-floppy-save"></i>
									</button>
									<button id="printButton" class="btn btn-primary" style="text-align:center; padding:2px; margin-left:5%">
									</button>
								</div>
							</div>

						</div>
					</div>

				</div>

			</div>

			</div>
		</div>
	</section>

	<!-- Core JavaScript Files -->
	<script src="js/jquery.min.js"></script>
	<!--<script src="js/bootstrap.min.js"></script>-->
	<script src="js/jquery.easing.min.js"></script>
	<script src="js/jquery.scrollTo.js"></script>
	<script src="js/wow.min.js"></script>
	<!-- Custom Theme JavaScript -->
	<script src="js/custom.js"></script>

</body>

</html>
